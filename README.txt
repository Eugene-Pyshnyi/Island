Внёс некоторые изменения.
Взял пример с хардкодом, т.к. в голову не приходят идеи, как написать ту часть кода иначе :(